/*!
 * OpenUI5
 * (c) Copyright 2009-2024 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/i18n/Formatting","sap/base/i18n/Localization","sap/ui/Global","sap/ui/VersionInfo","sap/ui/core/AnimationMode","sap/ui/core/Configuration","sap/ui/core/ControlBehavior","sap/ui/core/Element","sap/ui/core/ElementMetadata","sap/ui/core/Lib","sap/ui/core/Locale","sap/ui/core/Supportability","sap/ui/core/Theming","sap/base/util/LoaderExtensions","sap/ui/thirdparty/jquery"],function(e,t,n,r,a,i,o,g,l,u,c,s,d,p,jQuery){"use strict";function m(){var e=r._content?r._content.libraries:undefined;var t=Object.create(null);if(e!==undefined){e.forEach(function(e,n,r){t[e.name]=e.version})}return t}function f(){var e=u.all();var t=Object.create(null);Object.keys(u.all()).forEach(function(n,r,a){t[n]=e[n].version});return t}function b(){var e=new URLSearchParams(window.location.search);return Array.from(e.keys()).reduce(function(t,n){t[n]=e.getAll(n);return t},{})}function v(){return{commonInformation:{version:n.version,buildTime:n.buildinfo.buildtime,lastChange:n.buildinfo.lastchange,jquery:jQuery.fn.jquery,userAgent:navigator.userAgent,applicationHREF:window.location.href,documentTitle:document.title,documentMode:document.documentMode||"",debugMode:s.isDebugModeEnabled(),statistics:s.isStatisticsEnabled()},configurationBootstrap:window["sap-ui-config"]||Object.create(null),configurationComputed:{theme:d.getTheme(),language:t.getLanguage(),formatLocale:new c(e.getLanguageTag()),accessibility:o.isAccessibilityEnabled(),animation:o.getAnimationMode()!==a.minimal&&o.getAnimationMode()!==a.none,rtl:t.getRTL(),debug:s.isDebugModeEnabled(),inspect:s.isControlInspectorEnabled(),originInfo:s.collectOriginInfo(),noDuplicateIds:i.getNoDuplicateIds()},libraries:m(),loadedLibraries:f(),loadedModules:p.getAllRequiredModules().sort(),URLParameters:b()}}var h={_createRenderedTreeModel:function(e,t){var n=e;var r=n.firstElementChild;var a=t;var i=a;var o=g.getElementById(n.id);if(n.getAttribute("data-sap-ui")&&o){a.push({id:o.getId(),name:o.getMetadata().getName(),type:"sap-ui-control",content:[]});i=a[a.length-1].content}else if(n.getAttribute("data-sap-ui-area")){a.push({id:n.id,name:"sap-ui-area",type:"data-sap-ui",content:[]});i=a[a.length-1].content}while(r){this._createRenderedTreeModel(r,i);r=r.nextElementSibling}}};var y={_getOwnProperties:function(e){var t=Object.create(null);var n=e.getMetadata().getProperties();t.meta=Object.create(null);t.meta.controlName=e.getMetadata().getName();t.properties=Object.create(null);Object.keys(n).forEach(function(r){t.properties[r]=Object.create(null);t.properties[r].value=e.getProperty(r);t.properties[r].type=n[r].getType().getName?n[r].getType().getName():""});return t},_copyInheritedProperties:function(e,t){var n=t.getProperties();var r=Object.create(null);r.meta=Object.create(null);r.meta.controlName=t.getName();r.properties=Object.create(null);Object.keys(n).forEach(function(t){r.properties[t]=Object.create(null);r.properties[t].value=n[t].get(e);r.properties[t].type=n[t].getType().getName?n[t].getType().getName():""});return r},_getInheritedProperties:function(e){var t=[];var n=e.getMetadata().getParent();while(n instanceof l){t.push(this._copyInheritedProperties(e,n));n=n.getParent()}return t},_getProperties:function(e){var t=g.getElementById(e);var n=Object.create(null);if(t){n.own=this._getOwnProperties(t);n.inherited=this._getInheritedProperties(t)}return n},_getModelFromContext:function(e,t){var n=e.getBinding(t);var r=n.getModel();var a=e.getBindingInfo(t).parts?e.getBindingInfo(t).parts:[];var i=[];for(var o=0;o<a.length;o++){i.push(a[o].model)}var g={names:i,path:n.getPath()};if(r){g.mode=r.getDefaultBindingMode();g.type=r.getMetadata().getName();g.data=r.getData?r.getData("/"):undefined}return g},_getBindDataForProperties:function(e){var t=e.getMetadata().getAllProperties();var n=Object.create(null);for(var r in t){if(t.hasOwnProperty(r)&&e.getBinding(r)){n[r]=Object.create(null);n[r].path=e.getBinding(r).getPath();n[r].value=e.getBinding(r).getValue();n[r].type=e.getMetadata().getProperty(r).getType().getName?e.getMetadata().getProperty(r).getType().getName():"";n[r].mode=e.getBinding(r).getBindingMode();n[r].model=this._getModelFromContext(e,r)}}return n},_getBindDataForAggregations:function(e){var t=e.getMetadata().getAllAggregations();var n=Object.create(null);for(var r in t){if(t.hasOwnProperty(r)&&e.getBinding(r)){n[r]=Object.create(null);n[r].model=this._getModelFromContext(e,r)}}return n}};return{getFrameworkInformation:v,getRenderedControlTree:function(){var e=[];h._createRenderedTreeModel(document.body,e);return e},getControlProperties:function(e){return y._getProperties(e)},getControlBindings:function(e){var t=Object.create(null);var n=g.getElementById(e);var r;if(!n){return t}r=n.getBindingContext();t.meta=Object.create(null);t.contextPath=r?r.getPath():null;t.aggregations=y._getBindDataForAggregations(n);t.properties=y._getBindDataForProperties(n);return t}}});
//# sourceMappingURL=ToolsAPI.js.map